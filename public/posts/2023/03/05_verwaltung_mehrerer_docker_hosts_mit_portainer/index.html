<!DOCTYPE html>
<html lang="de">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Verwaltung mehrerer Docker Hosts mit Portainer - blog.buanet.de</title><meta name="Description" content="Wie verwalte ich mehrere Docker Hosts über eine Portainer Instanz?"><meta property="og:url" content="http://localhost:1313/posts/2023/03/05_verwaltung_mehrerer_docker_hosts_mit_portainer/">
  <meta property="og:site_name" content="blog.buanet.de">
  <meta property="og:title" content="Verwaltung mehrerer Docker Hosts mit Portainer">
  <meta property="og:description" content="Wie verwalte ich mehrere Docker Hosts über eine Portainer Instanz?">
  <meta property="og:locale" content="de">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-03-05T20:51:13+01:00">
    <meta property="article:modified_time" content="2023-03-05T20:51:13+01:00">
    <meta property="og:image" content="http://localhost:1313/img/og/default.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/img/og/default.png">
  <meta name="twitter:title" content="Verwaltung mehrerer Docker Hosts mit Portainer">
  <meta name="twitter:description" content="Wie verwalte ich mehrere Docker Hosts über eine Portainer Instanz?">
      <meta name="twitter:site" content="@buanetde">
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/posts/2023/03/05_verwaltung_mehrerer_docker_hosts_mit_portainer/" /><link rel="prev" href="http://localhost:1313/posts/2023/03/02_usb-geraete_im_iobroker_docker_container/" /><link rel="next" href="http://localhost:1313/posts/2023/03/31_iobroker_docker-container_wartung_und_pflege/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Verwaltung mehrerer Docker Hosts mit Portainer",
        "inLanguage": "de",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/posts\/2023\/03\/05_verwaltung_mehrerer_docker_hosts_mit_portainer\/"
        },"genre": "posts","wordcount":  900 ,
        "url": "http:\/\/localhost:1313\/posts\/2023\/03\/05_verwaltung_mehrerer_docker_hosts_mit_portainer\/","datePublished": "2023-03-05T20:51:13+01:00","dateModified": "2023-03-05T20:51:13+01:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "André (buanet)"
            },"description": "Wie verwalte ich mehrere Docker Hosts über eine Portainer Instanz?"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="blog.buanet.de"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/img/logo_wide.png"
        data-srcset="/img/logo_wide.png, /img/logo_wide.png 1.5x, /img/logo_wide.png 2x"
        data-sizes="auto"
        alt="/img/logo_wide.png"
        title="/img/logo_wide.png" /><span class="header-title-pre"> </span>blog.buanet.de</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Beiträge </a><a class="menu-item" href="/categories/"> Kategorien </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Suche nach Titel und Inhalt..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Suche">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Leeren">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Darstellung ändern">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="blog.buanet.de"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/img/logo_wide.png"
        data-srcset="/img/logo_wide.png, /img/logo_wide.png 1.5x, /img/logo_wide.png 2x"
        data-sizes="auto"
        alt="/img/logo_wide.png"
        title="/img/logo_wide.png" /><span class="header-title-pre"> </span>blog.buanet.de</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Suche nach Titel und Inhalt..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Suche">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Leeren">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Abbrechen
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Beiträge</a><a class="menu-item" href="/categories/" title="">Kategorien</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Darstellung ändern">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Inhalt</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Verwaltung mehrerer Docker Hosts mit Portainer</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>André (buanet)</a></span>&nbsp;<span class="post-category">in <a href="/categories/tutorials/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Tutorials</a>&nbsp;<a href="/categories/portainer/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Portainer</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="05.03.2023">05.03.2023</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;900 Wörter&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;5 Minuten&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/img/posts/2023-03-05/header.png"
        data-srcset="/img/posts/2023-03-05/header.png, /img/posts/2023-03-05/header.png 1.5x, /img/posts/2023-03-05/header.png 2x"
        data-sizes="auto"
        alt="/img/posts/2023-03-05/header.png"
        title="Wie verwalte ich mehrere Docker Hosts über eine Portainer Instanz?" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Inhalt</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#einleitung">Einleitung</a></li>
    <li><a href="#voraussetzungen">Voraussetzungen</a></li>
    <li><a href="#portainer-agent-auf-dem-zweiten-docker-host-einrichten">Portainer Agent auf dem zweiten Docker Host einrichten</a></li>
    <li><a href="#verbindung-zwischen-portainer-und-agent-herstellen">Verbindung zwischen Portainer und Agent herstellen</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="einleitung">Einleitung</h2>
<p>In diesem Tutorial zeige ich dir, wie du mit einer Portainer Instanz, ohne großen Aufwand, auch mehrere Docker Hosts verwalten kannst. Dazu werden wir auf einem zweiten Docker Host den Portainer Agent installieren und ihn mit unserer bestehenden Portainer Instanz verbinden.</p>
<h2 id="voraussetzungen">Voraussetzungen</h2>
<p>Folgendes setze ich voraus:</p>
<ul>
<li>Funktionierende Portainer Instanz (siehe <a href="/posts/2023/02/10_portainer_zur_verwaltung_des_docker_dienstes/" rel="">hier</a> und/oder <a href="/posts/2023/02/12_portainer_auf_der_synology_diskstation/" rel="">hier</a>)</li>
<li>Zweiter, Linux basierter Docker Host (Docker up &amp; running)</li>
<li>Zugriff auf die Kommandozeile des zweiten Docker Hosts</li>
</ul>
<h2 id="portainer-agent-auf-dem-zweiten-docker-host-einrichten">Portainer Agent auf dem zweiten Docker Host einrichten</h2>
<p>Damit wir den Docker Dienst auf unserem zweiten Docker Host aus der Ferne verwalten können benötigen wir einen <a href="https://hub.docker.com/r/portainer/agent" target="_blank" rel="noopener noreffer ">&ldquo;Portainer Agent&rdquo;</a>. Dabei handelt es sich, wie beim Portainer selbst, lediglich um einen Docker Container, den wir lokal auf unserem zweiten Docker Host einrichten müssen. Wie schon beim Portainer geschieht dies über die Kommandozeile.</p>
<p>Mit dem folgenden Befehl starten wir also unseren Portainer Agent:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -d -p 9001:9001 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --name portainer-agent --restart<span class="o">=</span>always <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -v /var/lib/docker/volumes:/var/lib/docker/volumes <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  portainer/agent:latest
</span></span></code></pre></div><p>Der Befehl setzt sich dabei aus folgenden Parametern zusammen:</p>
<ul>
<li><code>docker run</code> &laquo; zum Erstellen eines neuen Containers</li>
<li><code>-d</code> &laquo; für &ldquo;<a href="https://docs.docker.com/engine/reference/run/#detached--d" target="_blank" rel="noopener noreffer ">detached</a>&rdquo;</li>
<li><code>-p 9001:9001</code> &laquo; Port über den sich Portainer mit dem Agent verbindet</li>
<li><code>--name portainer-agent</code> &laquo; Container Name</li>
<li><code>--restart=always</code> &laquo; Restart Policy = always</li>
<li><code>-v /var/run/docker.sock:/var/run/docker.sock</code> &laquo; Mount des Docker Sockets für die Verwaltung des Docker Dienstes</li>
<li><code>-v /var/lib/docker/volumes:/var/lib/docker/volumes</code> &laquo; Mount des Verzeichnisses für Docker Volumes</li>
<li><code>portainer/agent:latest</code> &laquo; Verwendetes Image und Tag</li>
</ul>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"></i>Hinweis<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>Sollte der Benutzer, mit dem du an der Kommandozeile des zweiten Docker Hosts angemeldet bist keine Berechtigung für die Ausführung des <code>docker run</code> Befehls besitzen, ist ggf. ein <code>sudo</code> erforderlich.</p>
<p>Des Weiteren prüfe bitte ob der verwendete Port <code>9001</code> keinen Postkonflikt verursacht (ist z.B. auch der Standardport für die ioBroker Objects-DB). Durch Änderung des Parameters <code>-p 9001:9001</code> in z.B. <code>-p 8889:9001</code> ließe sich der Port, über den Portainer mit dem Agent Kontakt auf nimmt, auf Port <code>8889</code>ändern.</p>
</div>
        </div>
    </div>
<p>Wie du sicherlich festgestellt hast, ähnelt das Kommando sehr stark dem Kommando mit dem wir auch schon den Portainer gestartet haben. Der größte Unterschied besteht darin, dass wir kein lokales Verzeichnis für die Speicherung von Konfigurationsdaten benötigen, denn diese Daten werden nicht im Agent, sondern im Portainer gespeichert. Also in dem Verzeichnis, dass wir bei der Einrichtung des Portainers auf unserem &ldquo;Haupt-Host&rdquo; eingebunden haben.</p>
<p>Mit <code>/var/lib/docker/volumes</code> ist allerdings ein neuer Mount hinzugekommen. Hier handelt es sich um das Standardverzeichnis in dem Docker selbst Volumes erstellen kann. Damit später vom Portainer darauf zugegriffen werden kann, mounten wir dieses mit in den Portainer Agent.</p>
<p>Alle Anderen Parameter solltest du bereits von der <a href="/posts/2023/02/10_portainer_zur_verwaltung_des_docker_dienstes/" rel="">Einrichtung des Portainers</a> kennen. Ich spare mir daher hier die Wiederholung.</p>
<p>Die Ausgabe auf der Kommandozeile sollte nun also ungefähr so aussehen:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">andre@vm-docker-test:~$ sudo docker run -d -p 8889:9001 --name portainer-agent --restart<span class="o">=</span>always -v /var/run/docker.sock:/var/run/docker.sock -v /var/lib/docker/volumes:/var/lib/docker/volumes portainer/agent:latest
</span></span><span class="line"><span class="cl"><span class="o">[</span>sudo<span class="o">]</span> Passwort für andre:
</span></span><span class="line"><span class="cl">Unable to find image <span class="s1">&#39;portainer/agent:latest&#39;</span> locally
</span></span><span class="line"><span class="cl">latest: Pulling from portainer/agent
</span></span><span class="line"><span class="cl">772227786281: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">96fd13befc87: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">a072f93dbf8b: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">a7de7247ee92: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">cd4280d0ffc0: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">32c744610ec2: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">77bbe6ca9fb5: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">45b6ddb3fba1: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">1783048236fb: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">93fd384a1bda: Pull <span class="nb">complete</span>
</span></span><span class="line"><span class="cl">Digest: sha256:76598c54b29d90636cbe533bf96d5efbd885008b3d5e5ca36a9cc9238ebe47b3
</span></span><span class="line"><span class="cl">Status: Downloaded newer image <span class="k">for</span> portainer/agent:latest
</span></span><span class="line"><span class="cl">3bdb68ee29134fe747d8d9a40790b939427d11719170bf226cfeab9b47bfa83c
</span></span></code></pre></div><p>Mit <code>docker ps</code> kannst du im Anschluss prüfen, ob der Container ordnungsgemäß erstellt worden ist und welchen Status er hat:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">andre@vm-docker-test:~$ sudo docker ps
</span></span><span class="line"><span class="cl">CONTAINER ID   IMAGE                    COMMAND     CREATED         STATUS         PORTS                                       NAMES
</span></span><span class="line"><span class="cl">3bdb68ee2913   portainer/agent:latest   <span class="s2">&#34;./agent&#34;</span>   <span class="m">2</span> minutes ago   Up <span class="m">2</span> minutes   0.0.0.0:8889-&gt;9001/tcp, :::8889-&gt;9001/tcp   portainer-agent
</span></span></code></pre></div><h2 id="verbindung-zwischen-portainer-und-agent-herstellen">Verbindung zwischen Portainer und Agent herstellen</h2>
<p>Weiter geht es nun in unserer Portainer Web UI. Unter &ldquo;Settings&rdquo; navigieren wir zum Menüpunkt &ldquo;Environments&rdquo; und fügen über den Button &ldquo;+ Add environment&rdquo; ein neues Environment hinzu. Im nun startenden &ldquo;Environment Wizard&rdquo; wählen wir den Eintrag &ldquo;Docker Standalone&rdquo; und bestätigen mit dem Button &ldquo;Start Wizard&rdquo;.</p>
<a class="lightgallery" href="/img/posts/2023-03-05/portainer_agent1.png" title="Portainer Environment Wizard" data-thumbnail="/img/posts/2023-03-05/portainer_agent1.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/posts/2023-03-05/portainer_agent1.png"
            data-srcset="/img/posts/2023-03-05/portainer_agent1.png, /img/posts/2023-03-05/portainer_agent1.png 1.5x, /img/posts/2023-03-05/portainer_agent1.png 2x"
            data-sizes="auto"
            alt="Portainer Environment Wizard" width="100%" />
    </a>
<p>Im nächsten Schritt nutzen wir die vorausgewählte Option &ldquo;Agent&rdquo;. Wie du sehen kannst gibt es weitere Möglichkeiten Endpunkte zu verbinden. Meiner Meinung nach ist allerdings die Variante über den Agent die einfachste und sicherste Option.</p>
<a class="lightgallery" href="/img/posts/2023-03-05/portainer_agent2.png" title="Portainer Environment Wizard" data-thumbnail="/img/posts/2023-03-05/portainer_agent2.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/posts/2023-03-05/portainer_agent2.png"
            data-srcset="/img/posts/2023-03-05/portainer_agent2.png, /img/posts/2023-03-05/portainer_agent2.png 1.5x, /img/posts/2023-03-05/portainer_agent2.png 2x"
            data-sizes="auto"
            alt="Portainer Environment Wizard" width="100%" />
    </a>
<p>Etwas weiter unten müssen wir nun die Informationen zu unserem Environment ergänzen.</p>
<a class="lightgallery" href="/img/posts/2023-03-05/portainer_agent3.png" title="Portainer Environment Wizard" data-thumbnail="/img/posts/2023-03-05/portainer_agent3.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/posts/2023-03-05/portainer_agent3.png"
            data-srcset="/img/posts/2023-03-05/portainer_agent3.png, /img/posts/2023-03-05/portainer_agent3.png 1.5x, /img/posts/2023-03-05/portainer_agent3.png 2x"
            data-sizes="auto"
            alt="Portainer Environment Wizard" width="100%" />
    </a>
<p>Wir vergeben einen Namen und füllen die &ldquo;Endpoint URL&rdquo; mit der IP-Adresse unseres zweiten Docker Hosts, sowie dem für die Kommunikation vorgesehenen Port, getrennt durch einen Doppelpunkt, aus. Beim Klick auf &ldquo;Connect&rdquo; prüft Portainer unsere Konfiguration und fügt in der Liste der Environments (rechts am Bildrand) einen entsprechenden Eintrag hinzu.</p>
<a class="lightgallery" href="/img/posts/2023-03-05/portainer_agent4.png" title="Portainer Environment Wizard" data-thumbnail="/img/posts/2023-03-05/portainer_agent4.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/posts/2023-03-05/portainer_agent4.png"
            data-srcset="/img/posts/2023-03-05/portainer_agent4.png, /img/posts/2023-03-05/portainer_agent4.png 1.5x, /img/posts/2023-03-05/portainer_agent4.png 2x"
            data-sizes="auto"
            alt="Portainer Environment Wizard" width="100%" />
    </a>
<p>Mit einem Klick auf den Button &ldquo;Close&rdquo; am ende der Seite schließen wir die Einrichtung ab. Wir landen in der Liste unserer Environments. Unser neues Environment sollte nun in der Liste aufgeführt sein.</p>
<a class="lightgallery" href="/img/posts/2023-03-05/portainer_agent5.png" title="Portainer Environment List" data-thumbnail="/img/posts/2023-03-05/portainer_agent5.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/posts/2023-03-05/portainer_agent5.png"
            data-srcset="/img/posts/2023-03-05/portainer_agent5.png, /img/posts/2023-03-05/portainer_agent5.png 1.5x, /img/posts/2023-03-05/portainer_agent5.png 2x"
            data-sizes="auto"
            alt="Portainer Environment List" width="100%" />
    </a>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw" aria-hidden="true"></i>Hinweis<i class="details-icon fas fa-angle-right fa-fw" aria-hidden="true"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">Die Verbindung vom Portainer zum Agent kann nur einmal hergestellt werden. Damit sich nicht einfach eine zweite Portainer-Instanz mit dem Agent verbinden kann, und damit Zugriff auf den Docker Dienst erhält, tauschen Portainer und Agent bei der ersten Verbindung ein Secret aus. Soll der Agent später an eine andere Portainer Instanz umziehen, so muss der Portainer Agent Container neu erstellt werden. Weitere Infos dazu findest du in der <a href="https://docs.portainer.io/" target="_blank" rel="noopener noreffer ">Portainer Doku</a>.</div>
        </div>
    </div>
<p>Wechseln wir nun in den Menüpunkt &ldquo;Home&rdquo;, sehen wir eine Übersicht der eingerichteten &ldquo;Environments&rdquo; zusammen mit Status und einigen Statistik-Werten.</p>
<a class="lightgallery" href="/img/posts/2023-03-05/portainer_agent6.png" title="Portainer Home" data-thumbnail="/img/posts/2023-03-05/portainer_agent6.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/posts/2023-03-05/portainer_agent6.png"
            data-srcset="/img/posts/2023-03-05/portainer_agent6.png, /img/posts/2023-03-05/portainer_agent6.png 1.5x, /img/posts/2023-03-05/portainer_agent6.png 2x"
            data-sizes="auto"
            alt="Portainer Home" width="100%" />
    </a>
<p>Mit einem Klick auf unser neu eingerichtetes Environment gelangen wir in das Dashboard unseres zweiten Docker Hosts. In der Menüleiste sehen wir den ausgewählten Docker Host und können ihn nun über die Menüpunkte &ldquo;Stacks&rdquo;, &ldquo;Containers&rdquo;, &ldquo;Images&rdquo; usw. verwalten.</p>
<a class="lightgallery" href="/img/posts/2023-03-05/portainer_agent7.png" title="Portainer Dashboard" data-thumbnail="/img/posts/2023-03-05/portainer_agent7.png">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/img/posts/2023-03-05/portainer_agent7.png"
            data-srcset="/img/posts/2023-03-05/portainer_agent7.png, /img/posts/2023-03-05/portainer_agent7.png 1.5x, /img/posts/2023-03-05/portainer_agent7.png 2x"
            data-sizes="auto"
            alt="Portainer Dashboard" width="100%" />
    </a>
<hr>
<p>Ich hoffe ich konnte dir mit diesem Tutorial zeigen was zu tun ist, um mit einer Portainer Instanz mehrere Docker Hosts verwalten zu können.<br>
 <br>
Für Fragen und Feedback nutze gerne die Kommentarfunktion zu diesem Beitrag.<br>
 <br>
MfG,<br>
André</p>
</div><div class="author-card">
    <img class="author-card" src="/img/andre.jpg">
    <div class="author-info">
        <h1>André (buanet)</h1>
        <p>Familienvater und Fachinformatiker bei Tag, Tech-Gadget-Junkie und Docker-Smart-Homer bei Nacht. Kann nichts mit Kaffee anfangen und isst viel zu gerne Pizza.
            <br>Beschäftigt sich seit 2015 intensiv mit dem Thema Smarthome und ist seit 2017 Teil der ioBroker OpenSource Entwickler Community.</p>
    </div>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Aktualisiert am 05.03.2023</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Teilen auf Twitter" data-sharer="twitter" data-url="http://localhost:1313/posts/2023/03/05_verwaltung_mehrerer_docker_hosts_mit_portainer/" data-title="Verwaltung mehrerer Docker Hosts mit Portainer" data-via="buanetde"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Teilen auf Facebook" data-sharer="facebook" data-url="http://localhost:1313/posts/2023/03/05_verwaltung_mehrerer_docker_hosts_mit_portainer/"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Teilen auf Reddit" data-sharer="reddit" data-url="http://localhost:1313/posts/2023/03/05_verwaltung_mehrerer_docker_hosts_mit_portainer/"><i class="fab fa-reddit fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Zurück</a></span>&nbsp;|&nbsp;<span><a href="/">Startseite</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/2023/03/02_usb-geraete_im_iobroker_docker_container/" class="prev" rel="prev" title="USB-Geräte im ioBroker Docker Container"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>USB-Geräte im ioBroker Docker Container</a>
            <a href="/posts/2023/03/31_iobroker_docker-container_wartung_und_pflege/" class="next" rel="next" title="ioBroker Docker Container: Wartung und Pflege">ioBroker Docker Container: Wartung und Pflege<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><a href="https://github.com/buanet/blog">Hosted on GitHub</a> | <a href="/impressum">Impressum</a></div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">André (buanet)</a></span>&nbsp;|&nbsp;<span class="license"><a href="/license">MIT License</a></span></div>
        </div>
        <script type="text/javascript" src="/js/lightbox.js"></script>
        <link rel="stylesheet" href="/css/lightbox.css">
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Nach oben">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Kommentare anzeigen">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.de.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"In Zwischenablage kopieren","maxShownLines":50},"comment":{},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"de","maxResultLength":10,"noResultsFound":"Keine Ergebnisse gefunden","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
